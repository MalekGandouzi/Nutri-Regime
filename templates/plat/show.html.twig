{# templates/plat/show.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}Détails du plat
{% endblock %}

{% block body %}
	<div class="container py-4">
		<div class="row justify-content-center">
			<div class="col-lg-8">

				<div class="mb-3 d-flex justify-content-between align-items-center">
					<div class="d-flex align-items-center gap-2">
						<a href="{{ path('admin_plat_list') }}" class="btn btn-outline-secondary btn-sm">
							<i class="bi bi-arrow-left"></i>
						</a>
						<h1 class="h4 mb-0">
							<i class="bi bi-eye me-2 text-secondary"></i>
							Détails du plat
						</h1>
					</div>
					<a href="{{ path('admin_plat_edit_all', {id: plat.id}) }}" class="btn btn-outline-primary btn-sm">
						<i class="bi bi-pencil-square me-1"></i>
						Modifier
					</a>
				</div>

				<div class="card nutri-card">
					{% set imageUrl = plat.image 
    ? asset('uploads/' ~ plat.image) 
    : 'https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=900&q=80' 
%}

					<img src="{{ imageUrl }}" class="card-img-top" alt="{{ plat.nomPlat }}" style="max-height: 280px; object-fit: cover;">


					<div class="card-body">
						<div class="d-flex justify-content-between align-items-center mb-2">
							<h2 class="h4 mb-0">{{ plat.nomPlat }}</h2>
							<span class="nutri-pill">
								<i class="bi bi-clipboard2-heart me-1"></i>
								{{ plat.regime ? plat.regime.nomRegime : 'Sans régime' }}
							</span>
						</div>

						<div class="d-flex flex-wrap gap-2 mb-3">
							<span class="nutri-badge nutri-duration">
								<i class="bi bi-cash-stack me-1"></i>
								{{ plat.cout }}
								TND
							</span>
							<span class="nutri-badge nutri-type">
								<i class="bi bi-fire me-1"></i>
								{{ plat.nbrCalories }}
								kcal
							</span>
						</div>

						<h5 class="mt-3">
							<i class="bi bi-journal-text me-1 text-success"></i>
							Ingrédients
						</h5>
						<p class="mb-3">
							{{ plat.ingredients }}
						</p>

						<div class="mt-3">
							<a href="{{ path('admin_plat_list') }}" class="btn btn-outline-secondary btn-sm">
								<i class="bi bi-arrow-left-circle me-1"></i>
								Retour à la liste
							</a>
						</div>
					</div>
				</div>

			</div>
		</div>
	</div>
{% endblock %}
